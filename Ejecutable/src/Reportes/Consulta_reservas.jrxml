<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Consulta_reservas" language="groovy" pageWidth="750" pageHeight="1000" columnWidth="710" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="4ac5bb44-52ea-4833-893e-8578c475eaa0">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="fecha_inicio" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="fecha_termino" class="java.util.Date">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT r.idreserva, r.idusuarios,r.idpaciente,(select concat(nombre,' ',apellido)
                from persona where idpersona=r.idpaciente) as Paciente,
                (Select concat(nombre,' ',apellido) from persona where idpersona=r.idusuarios) as Usuarios,
                r.fechaconsulta,r.horaconsulta,r.tipo_consulta, r.estado
                from reserva r WHERE r.fechaconsulta
 	      BETWEEN $P{fecha_inicio} AND $P{fecha_termino} GROUP by r.idreserva asc
 ]]>
	</queryString>
	<field name="idreserva" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="idusuarios" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="idpaciente" class="java.lang.Integer">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="Paciente" class="java.lang.String"/>
	<field name="Usuarios" class="java.lang.String"/>
	<field name="fechaconsulta" class="java.sql.Date">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="horaconsulta" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="tipo_consulta" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<field name="estado" class="java.lang.String">
		<fieldDescription><![CDATA[]]></fieldDescription>
	</field>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="77" splitType="Stretch">
			<staticText>
				<reportElement x="296" y="31" width="174" height="34" uuid="b608f3be-ee85-4949-9260-825f6db7967c"/>
				<textElement textAlignment="Center" verticalAlignment="Middle">
					<font size="14" isBold="true" isUnderline="false"/>
				</textElement>
				<text><![CDATA[LISTADO DE RESERVAS]]></text>
			</staticText>
		</band>
	</title>
	<pageHeader>
		<band height="1" splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band height="33" splitType="Stretch">
			<rectangle radius="10">
				<reportElement x="0" y="0" width="710" height="22" uuid="e216b163-f660-4ed2-a74a-6359a0544126"/>
			</rectangle>
			<staticText>
				<reportElement x="14" y="2" width="100" height="20" uuid="ff15a12b-a6a3-4bf8-8620-783353d18e61"/>
				<text><![CDATA[Cod. Reserva]]></text>
			</staticText>
			<staticText>
				<reportElement x="103" y="2" width="100" height="20" uuid="6960b5e3-38a9-463d-a944-c489fa8781ba"/>
				<text><![CDATA[Paciente]]></text>
			</staticText>
			<staticText>
				<reportElement x="248" y="2" width="100" height="20" uuid="1b80db84-facb-42ba-be91-f8eedcdc79e3"/>
				<text><![CDATA[Usuarios]]></text>
			</staticText>
			<staticText>
				<reportElement x="386" y="2" width="100" height="20" uuid="c623844f-aae9-454f-b8e3-ba2171f073b4"/>
				<text><![CDATA[Fecha y hora Consulta]]></text>
			</staticText>
			<staticText>
				<reportElement x="610" y="2" width="100" height="20" uuid="332f8cf9-5ae5-4992-8bd2-3d94fa984c30"/>
				<text><![CDATA[Tipo de Consulta]]></text>
			</staticText>
			<staticText>
				<reportElement x="498" y="2" width="100" height="20" uuid="2d012b98-d434-4513-a949-4cbdf8888916"/>
				<text><![CDATA[Hora Consulta]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="32" splitType="Stretch">
			<textField>
				<reportElement x="14" y="0" width="100" height="20" uuid="10ca2582-2c8f-4a3c-ad98-4f05c765efbd"/>
				<textFieldExpression><![CDATA[$F{idreserva}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="103" y="0" width="100" height="20" uuid="1a0d04b0-c82b-4e1e-a070-3cbee7fe70c6"/>
				<textFieldExpression><![CDATA[$F{Paciente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="248" y="0" width="100" height="20" uuid="6411910e-4d69-4a6f-a6b6-6a4e18278e73"/>
				<textFieldExpression><![CDATA[$F{Usuarios}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy">
				<reportElement x="386" y="0" width="100" height="20" uuid="25c674bc-5bb7-4caa-8151-a266fef49fcc"/>
				<textFieldExpression><![CDATA[$F{fechaconsulta}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="610" y="2" width="100" height="20" uuid="4297fa44-ab0e-443b-af6a-4b9893f80c1c"/>
				<textFieldExpression><![CDATA[$F{tipo_consulta}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="498" y="0" width="100" height="20" uuid="df904f69-1a82-4440-b56f-bad7319faaf4"/>
				<textFieldExpression><![CDATA[$F{horaconsulta}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="527" y="0" width="20" height="20" uuid="bb183e45-3464-4588-aa0a-352190f0cc32"/>
				<text><![CDATA[HS.]]></text>
			</staticText>
		</band>
	</detail>
	<columnFooter>
		<band height="45" splitType="Stretch">
			<line>
				<reportElement x="0" y="10" width="710" height="1" uuid="fc7efccc-60d8-459d-8ee6-11f16f559836"/>
			</line>
		</band>
	</columnFooter>
	<pageFooter>
		<band height="54" splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="42" splitType="Stretch"/>
	</summary>
</jasperReport>
